<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Manual</title>
    <link rel="icon" type="image/png" href="../../иконка_сайта.png">
    <link rel="stylesheet" href="sql_comands_pattern.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-funky.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-sql.min.js"></script>
</head>
<body>
    <div class="main">
        <a class="back" href="../../index.html">Главная страница</a>
        <span class="arrow">→</span>
        <a class="back" href="../SQL.html">SQL</a>
        <span class="arrow">→</span>
        <a class="back" href="GROUP_BY.html">GROUP BY</a>
        <h1> GROUP BY в SQL</h1>
        <div>
            <p>
                Оператор GROUP BY в SQL используется для группировки строк,
                имеющих одинаковые значения в указанных столбцах, и выполнения агрегатных функций на каждой из этих групп.
                Это позволяет вам агрегировать данные и получать сводные результаты на основе определенных критериев.
                P.S. Агрегатные данные - это суммирование, подсчет, нахождение среднего, максимума, минимума и другие функции.
            </p>
            Примеры:
            <ul>
                <li>
                    Использования GROUP BY в таблице с одинаковыми значениями и агригатной функцией
                    <div class="syntax">
<pre><code class="language-sql">//Таблица sales:
sale_id	product_id	sale_date	 quantity	price
1	    101	        2023-01-01	 2	        50
2	    102	        2023-01-02	 1	        30
3	    101	        2023-01-03	 3	        50
4	    103	        2023-01-04	 5	        20
5	    102	        2023-01-05	 2	        30

SELECT product_id, COUNT(*) AS total_sales
FROM sales
GROUP BY product_id

//Результат:
product_id	total_sales
101	        2
102	        2
103	        1

//P.S. Также можно группирировать по нескольким столбцам
//У GROUP BY много применений, которые сложно уложить в одну страницу
</code></pre>
                    </div>
                </li>
                <p class="description">
                    Выбираем два столбца `product_id` и счетсчик строк (всего строк 5)
                </p>
                <p class="description">
                    При помощи GROUP BY выводим только `product_id` и количество строк где есть определенный `product_id` (например 101)
                </p>
                <p class="description">
                    Если бы у нас везде был бы только один `product_id` например 1, тогда был бы вывод `product_id`, `total_sales` 1 и 5 соответственно
                </p>
            </ul>
            <p>
                Используемые команды:
            </p>
            <ul>
                <li>
                    SELECT - Выбрать что-то, откуда-то
                </li>
                <li>
                    COUNT(...) - Считает количество строк
                </li>
                <li>
                    AS - создает псевдоним
                </li>
                <li>
                    FROM name - Из таблицы/базы данных с именем name
                </li>
                <li>
                    GROUP BY - Группирирует по указанным столбцам
                </li>
            </ul>
        </div>
    </div>
</body>
</html>